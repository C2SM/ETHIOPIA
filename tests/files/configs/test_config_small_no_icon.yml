---
start_date: &root_start_date '2026-01-01T00:00'
end_date: &root_end_date '2026-02-01T00:00'
cycles:
  - bimonthly_tasks:
      start_date: *root_start_date
      end_date: *root_end_date
      period: P2M
      tasks:
        - shell_task:
            inputs:
              - initial_conditions:
                  when:
                    at: *root_start_date
              - data1:
                  when:
                    at: *root_start_date
            outputs: [restart]
tasks:
  - shell_task:
      plugin: shell
      # Currently full task, so running the script actually works
      command: /home/geiger_j/aiida_projects/swiss-twins/git-repos/Sirocco/tests/files/scripts/shell_task.sh
      cli_arguments:
        # f"--restart_kwarg restart_value --init {initial_conditions} -a data1 -p 1"
        # TODO: How to differentiate between string and data node/socket
        keyword:  # To be thought about
          --restart_kwarg: restart_value  # This doesn't map to a file, so is just an option
          # --restart_kwarg: {restart_value}  # This doesn't map to a file, so is just an option
          # --verbosity: 2
          --init: {initial_conditions}  # This maps to a file, and should therefore be resolved to a SinglefileData
        positional:
          # - data1  # This maps to an actual existing file, specified in data section
          - data2  # This is just an arbitrary positional argument
        flags:
          - --test-flag
          # - --verbosity=2 # Didn't actually consider this
        source_file:
          - tests/files/data/dummy_source_file.sh
data:
  available:
     - initial_conditions:
         type: file
         src: tests/files/data/initial_conditions
     - data1:
         type: file
         src: tests/files/data/data1
  generated:
     - restart:
         type: file
         src: restart
